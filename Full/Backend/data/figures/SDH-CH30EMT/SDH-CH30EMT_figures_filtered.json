{
  "doc_id": "SDH-CH30EMT",
  "source_pdf": "data/raw/SDH-CH30EMT.pdf",
  "num_images_total": 30,
  "num_images_kept": 21,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SDH-CH30EMT/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        511,
        755
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 511.0,
        "height": 755.0,
        "aspect_ratio": 0.6768211920529801,
        "ink_ratio": 0.9071577610450875,
        "edge_ratio": 0.06778294734386542,
        "table_line_ratio": 0.8582392659504153,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        46,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 43.0,
        "aspect_ratio": 1.069767441860465,
        "ink_ratio": 0.32406471183013147,
        "edge_ratio": 0.27451971688574317,
        "table_line_ratio": 0.11931243680485339,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        45,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 44.0,
        "aspect_ratio": 1.0227272727272727,
        "ink_ratio": 0.39595959595959596,
        "edge_ratio": 0.26565656565656565,
        "table_line_ratio": 0.18131313131313131,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        47,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 47.0,
        "height": 45.0,
        "aspect_ratio": 1.0444444444444445,
        "ink_ratio": 0.3295508274231678,
        "edge_ratio": 0.24444444444444444,
        "table_line_ratio": 0.14184397163120568,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        45,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 43.0,
        "aspect_ratio": 1.0465116279069768,
        "ink_ratio": 0.35658914728682173,
        "edge_ratio": 0.2351421188630491,
        "table_line_ratio": 0.18242894056847545,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        47,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 47.0,
        "height": 45.0,
        "aspect_ratio": 1.0444444444444445,
        "ink_ratio": 0.24775413711583924,
        "edge_ratio": 0.17494089834515367,
        "table_line_ratio": 0.08888888888888889,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        43,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 43.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.5035154137371552,
        "edge_ratio": 0.19091400757166035,
        "table_line_ratio": 0.4607896160086533,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_002_figure_008.png",
      "page": 2,
      "index": 8,
      "size_px": [
        42,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 42.0,
        "height": 41.0,
        "aspect_ratio": 1.024390243902439,
        "ink_ratio": 0.7166085946573751,
        "edge_ratio": 0.10801393728222997,
        "table_line_ratio": 0.7305458768873403,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_004_figure_009.png",
      "page": 4,
      "index": 9,
      "size_px": [
        788,
        511
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 788.0,
        "height": 511.0,
        "aspect_ratio": 1.5420743639921721,
        "ink_ratio": 0.12159148479640795,
        "edge_ratio": 0.10346985606007927,
        "table_line_ratio": 0.053592537773053735,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_004_figure_009.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_004_figure_010.png",
      "page": 4,
      "index": 10,
      "size_px": [
        140,
        107
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 140.0,
        "height": 107.0,
        "aspect_ratio": 1.308411214953271,
        "ink_ratio": 0.12089452603471296,
        "edge_ratio": 0.1157543391188251,
        "table_line_ratio": 0.04392523364485981,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_004_figure_010.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_004_figure_011.png",
      "page": 4,
      "index": 11,
      "size_px": [
        626,
        288
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 626.0,
        "height": 288.0,
        "aspect_ratio": 2.173611111111111,
        "ink_ratio": 0.0938054668086617,
        "edge_ratio": 0.10331247781327653,
        "table_line_ratio": 0.04344715122470714,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_004_figure_011.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_005_figure_012.png",
      "page": 5,
      "index": 12,
      "size_px": [
        549,
        242
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 549.0,
        "height": 242.0,
        "aspect_ratio": 2.268595041322314,
        "ink_ratio": 0.13463246473678664,
        "edge_ratio": 0.11869815893660901,
        "table_line_ratio": 0.09197037438468139,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_005_figure_012.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_005_figure_013.png",
      "page": 5,
      "index": 13,
      "size_px": [
        458,
        197
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 458.0,
        "height": 197.0,
        "aspect_ratio": 2.3248730964467006,
        "ink_ratio": 0.09011814776228581,
        "edge_ratio": 0.10206592334803716,
        "table_line_ratio": 0.03370425376277348,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_005_figure_013.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_005_figure_014.png",
      "page": 5,
      "index": 14,
      "size_px": [
        146,
        143
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 146.0,
        "height": 143.0,
        "aspect_ratio": 1.020979020979021,
        "ink_ratio": 0.11753999425232302,
        "edge_ratio": 0.10479931027876234,
        "table_line_ratio": 0.019733690966567678,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_005_figure_014.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_005_figure_015.png",
      "page": 5,
      "index": 15,
      "size_px": [
        366,
        319
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 366.0,
        "height": 319.0,
        "aspect_ratio": 1.1473354231974922,
        "ink_ratio": 0.1203127944224609,
        "edge_ratio": 0.12833821539304863,
        "table_line_ratio": 0.06681569796323894,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_005_figure_015.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_006_figure_016.png",
      "page": 6,
      "index": 16,
      "size_px": [
        443,
        376
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 443.0,
        "height": 376.0,
        "aspect_ratio": 1.178191489361702,
        "ink_ratio": 0.10551846693242399,
        "edge_ratio": 0.09613491186782576,
        "table_line_ratio": 0.03352984967100524,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_006_figure_016.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_008_figure_017.png",
      "page": 8,
      "index": 17,
      "size_px": [
        384,
        230
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 384.0,
        "height": 230.0,
        "aspect_ratio": 1.6695652173913043,
        "ink_ratio": 0.17745697463768115,
        "edge_ratio": 0.12434329710144927,
        "table_line_ratio": 0.10093976449275362,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_008_figure_017.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_008_figure_018.png",
      "page": 8,
      "index": 18,
      "size_px": [
        388,
        228
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 388.0,
        "height": 228.0,
        "aspect_ratio": 1.7017543859649122,
        "ink_ratio": 0.15860689093868693,
        "edge_ratio": 0.12129227708446373,
        "table_line_ratio": 0.10907261710978478,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_008_figure_018.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_008_figure_019.png",
      "page": 8,
      "index": 19,
      "size_px": [
        384,
        229
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 384.0,
        "height": 229.0,
        "aspect_ratio": 1.6768558951965065,
        "ink_ratio": 0.053857350800582245,
        "edge_ratio": 0.06152201601164483,
        "table_line_ratio": 0.0264283114992722,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_008_figure_019.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_008_figure_020.png",
      "page": 8,
      "index": 20,
      "size_px": [
        381,
        228
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 381.0,
        "height": 228.0,
        "aspect_ratio": 1.6710526315789473,
        "ink_ratio": 0.07289220426394069,
        "edge_ratio": 0.07210940737670948,
        "table_line_ratio": 0.015817101809642214,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_008_figure_020.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_009_figure_021.png",
      "page": 9,
      "index": 21,
      "size_px": [
        782,
        986
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 782.0,
        "height": 986.0,
        "aspect_ratio": 0.7931034482758621,
        "ink_ratio": 0.1095075299720382,
        "edge_ratio": 0.0855467594922262,
        "table_line_ratio": 0.04862317975960117,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_009_figure_021.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_010_figure_022.png",
      "page": 10,
      "index": 22,
      "size_px": [
        386,
        230
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 386.0,
        "height": 230.0,
        "aspect_ratio": 1.6782608695652175,
        "ink_ratio": 0.17007208830817752,
        "edge_ratio": 0.12569272358639333,
        "table_line_ratio": 0.09915521513854472,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_010_figure_022.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_010_figure_023.png",
      "page": 10,
      "index": 23,
      "size_px": [
        383,
        227
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 383.0,
        "height": 227.0,
        "aspect_ratio": 1.6872246696035242,
        "ink_ratio": 0.1724617844285205,
        "edge_ratio": 0.13042178028778137,
        "table_line_ratio": 0.08804821660666429,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_010_figure_023.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_010_figure_024.png",
      "page": 10,
      "index": 24,
      "size_px": [
        104,
        98
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 104.0,
        "height": 98.0,
        "aspect_ratio": 1.0612244897959184,
        "ink_ratio": 0.14717425431711145,
        "edge_ratio": 0.24156200941915226,
        "table_line_ratio": 0.03551805337519623,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_010_figure_024.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_010_figure_025.png",
      "page": 10,
      "index": 25,
      "size_px": [
        781,
        274
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 781.0,
        "height": 274.0,
        "aspect_ratio": 2.8503649635036497,
        "ink_ratio": 0.09288110881613504,
        "edge_ratio": 0.0897501799115863,
        "table_line_ratio": 0.023374487135153322,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_010_figure_025.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_010_figure_026.png",
      "page": 10,
      "index": 26,
      "size_px": [
        780,
        272
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 780.0,
        "height": 272.0,
        "aspect_ratio": 2.8676470588235294,
        "ink_ratio": 0.07610294117647058,
        "edge_ratio": 0.07754996229260935,
        "table_line_ratio": 0.012697963800904977,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_010_figure_026.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_011_figure_027.png",
      "page": 11,
      "index": 27,
      "size_px": [
        358,
        165
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 358.0,
        "height": 165.0,
        "aspect_ratio": 2.16969696969697,
        "ink_ratio": 0.25415608599966144,
        "edge_ratio": 0.15964110377518198,
        "table_line_ratio": 0.19294057897409853,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_011_figure_027.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_011_figure_028.png",
      "page": 11,
      "index": 28,
      "size_px": [
        534,
        175
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 534.0,
        "height": 175.0,
        "aspect_ratio": 3.0514285714285716,
        "ink_ratio": 0.09044408774745853,
        "edge_ratio": 0.08360620652755484,
        "table_line_ratio": 0.05573033707865169,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SDH-CH30EMT/page_011_figure_028.png"
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_013_figure_029.png",
      "page": 13,
      "index": 29,
      "size_px": [
        783,
        153
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 783.0,
        "height": 153.0,
        "aspect_ratio": 5.117647058823529,
        "ink_ratio": 0.09173699279626708,
        "edge_ratio": 0.09129458509670364,
        "table_line_ratio": 0.06541790832978572,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SDH-CH30EMT/page_016_figure_030.png",
      "page": 16,
      "index": 30,
      "size_px": [
        116,
        113
      ],
      "keep_for_caption": false,
      "category": "qr_code_heuristic",
      "tags": [
        "qr_code"
      ],
      "metrics": {
        "width": 116.0,
        "height": 113.0,
        "aspect_ratio": 1.0265486725663717,
        "ink_ratio": 0.5966585291425084,
        "edge_ratio": 0.23153799206591394,
        "table_line_ratio": 0.3878547451937748,
        "is_qr_code": true,
        "qr_heuristic": true,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": null
    }
  ]
}