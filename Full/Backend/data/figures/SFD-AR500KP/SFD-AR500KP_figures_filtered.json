{
  "doc_id": "SFD-AR500KP",
  "source_pdf": "data/raw/SFD-AR500KP.pdf",
  "num_images_total": 14,
  "num_images_kept": 7,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SFD-AR500KP/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        545,
        500
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 545.0,
        "height": 500.0,
        "aspect_ratio": 1.09,
        "ink_ratio": 0.09540550458715596,
        "edge_ratio": 0.0857211009174312,
        "table_line_ratio": 0.039757798165137616,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SFD-AR500KP/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SFD-AR500KP/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        43,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 41.0,
        "aspect_ratio": 1.048780487804878,
        "ink_ratio": 0.42597844583096994,
        "edge_ratio": 0.23085649461145774,
        "table_line_ratio": 0.22404991491775383,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SFD-AR500KP/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        44,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 42.0,
        "aspect_ratio": 1.0476190476190477,
        "ink_ratio": 0.4069264069264069,
        "edge_ratio": 0.2532467532467532,
        "table_line_ratio": 0.18506493506493507,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SFD-AR500KP/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        44,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 41.0,
        "aspect_ratio": 1.0731707317073171,
        "ink_ratio": 0.3874722838137472,
        "edge_ratio": 0.25554323725055433,
        "table_line_ratio": 0.17350332594235032,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SFD-AR500KP/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        44,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 43.0,
        "aspect_ratio": 1.0232558139534884,
        "ink_ratio": 0.31976744186046513,
        "edge_ratio": 0.1791754756871036,
        "table_line_ratio": 0.14323467230443976,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SFD-AR500KP/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        40,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 40.0,
        "height": 42.0,
        "aspect_ratio": 0.9523809523809523,
        "ink_ratio": 0.6779761904761905,
        "edge_ratio": 0.11607142857142858,
        "table_line_ratio": 0.6976190476190476,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SFD-AR500KP/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        44,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 41.0,
        "aspect_ratio": 1.0731707317073171,
        "ink_ratio": 0.47394678492239467,
        "edge_ratio": 0.18237250554323725,
        "table_line_ratio": 0.4312638580931264,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SFD-AR500KP/page_004_figure_008.png",
      "page": 4,
      "index": 8,
      "size_px": [
        389,
        295
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 389.0,
        "height": 295.0,
        "aspect_ratio": 1.3186440677966103,
        "ink_ratio": 0.0568776959609603,
        "edge_ratio": 0.05732212104047754,
        "table_line_ratio": 0.031589037514705244,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SFD-AR500KP/page_004_figure_008.png"
    },
    {
      "file": "data/figures/SFD-AR500KP/page_005_figure_009.png",
      "page": 5,
      "index": 9,
      "size_px": [
        333,
        154
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 333.0,
        "height": 154.0,
        "aspect_ratio": 2.1623376623376624,
        "ink_ratio": 0.18267618267618269,
        "edge_ratio": 0.14295464295464294,
        "table_line_ratio": 0.08410358410358411,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SFD-AR500KP/page_005_figure_009.png"
    },
    {
      "file": "data/figures/SFD-AR500KP/page_005_figure_010.png",
      "page": 5,
      "index": 10,
      "size_px": [
        372,
        269
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 372.0,
        "height": 269.0,
        "aspect_ratio": 1.3828996282527881,
        "ink_ratio": 0.07336011512171724,
        "edge_ratio": 0.08253387696366471,
        "table_line_ratio": 0.036435224047647596,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SFD-AR500KP/page_005_figure_010.png"
    },
    {
      "file": "data/figures/SFD-AR500KP/page_005_figure_011.png",
      "page": 5,
      "index": 11,
      "size_px": [
        379,
        236
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 379.0,
        "height": 236.0,
        "aspect_ratio": 1.6059322033898304,
        "ink_ratio": 0.08695943830776799,
        "edge_ratio": 0.11629623004337909,
        "table_line_ratio": 0.04038280935557444,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SFD-AR500KP/page_005_figure_011.png"
    },
    {
      "file": "data/figures/SFD-AR500KP/page_005_figure_012.png",
      "page": 5,
      "index": 12,
      "size_px": [
        379,
        220
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 379.0,
        "height": 220.0,
        "aspect_ratio": 1.7227272727272727,
        "ink_ratio": 0.09153274166466778,
        "edge_ratio": 0.1221875749580235,
        "table_line_ratio": 0.04448308946989686,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SFD-AR500KP/page_005_figure_012.png"
    },
    {
      "file": "data/figures/SFD-AR500KP/page_005_figure_013.png",
      "page": 5,
      "index": 13,
      "size_px": [
        387,
        273
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 387.0,
        "height": 273.0,
        "aspect_ratio": 1.4175824175824177,
        "ink_ratio": 0.07176458339249037,
        "edge_ratio": 0.08044410369991765,
        "table_line_ratio": 0.03700864165980445,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SFD-AR500KP/page_005_figure_013.png"
    },
    {
      "file": "data/figures/SFD-AR500KP/page_011_figure_014.png",
      "page": 11,
      "index": 14,
      "size_px": [
        784,
        153
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 784.0,
        "height": 153.0,
        "aspect_ratio": 5.124183006535947,
        "ink_ratio": 0.09121982126183807,
        "edge_ratio": 0.09066960117380285,
        "table_line_ratio": 0.06265006002400961,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    }
  ]
}