{
  "doc_id": "SIF-07HFT",
  "source_pdf": "uploads/pdfs/SIF-07HFT.pdf",
  "num_images_total": 21,
  "num_images_kept": 12,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SIF-07HFT/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        485,
        654
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 485.0,
        "height": 654.0,
        "aspect_ratio": 0.7415902140672783,
        "ink_ratio": 0.8964059396576185,
        "edge_ratio": 0.132592452473281,
        "table_line_ratio": 0.766726567672373,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        45,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 43.0,
        "aspect_ratio": 1.0465116279069768,
        "ink_ratio": 0.42739018087855296,
        "edge_ratio": 0.22015503875968992,
        "table_line_ratio": 0.26356589147286824,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        44,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 44.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.4065082644628099,
        "edge_ratio": 0.26291322314049587,
        "table_line_ratio": 0.20919421487603307,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        47,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 47.0,
        "height": 43.0,
        "aspect_ratio": 1.0930232558139534,
        "ink_ratio": 0.3958436417615042,
        "edge_ratio": 0.23948540326571005,
        "table_line_ratio": 0.19396338446313707,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        46,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 45.0,
        "aspect_ratio": 1.0222222222222221,
        "ink_ratio": 0.32222222222222224,
        "edge_ratio": 0.17149758454106281,
        "table_line_ratio": 0.16280193236714977,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        44,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 43.0,
        "aspect_ratio": 1.0232558139534884,
        "ink_ratio": 0.508985200845666,
        "edge_ratio": 0.18340380549682875,
        "table_line_ratio": 0.45084566596194503,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        42,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 42.0,
        "height": 42.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.7114512471655329,
        "edge_ratio": 0.11621315192743764,
        "table_line_ratio": 0.721655328798186,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_004_figure_008.png",
      "page": 4,
      "index": 8,
      "size_px": [
        797,
        748
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 797.0,
        "height": 748.0,
        "aspect_ratio": 1.0655080213903743,
        "ink_ratio": 0.08258912096833715,
        "edge_ratio": 0.07655378793470166,
        "table_line_ratio": 0.03655083568730332,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_004_figure_008.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_005_figure_009.png",
      "page": 5,
      "index": 9,
      "size_px": [
        383,
        236
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 383.0,
        "height": 236.0,
        "aspect_ratio": 1.6228813559322033,
        "ink_ratio": 0.08974642651679426,
        "edge_ratio": 0.07871620126565473,
        "table_line_ratio": 0.07021949816347303,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_005_figure_009.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_005_figure_010.png",
      "page": 5,
      "index": 10,
      "size_px": [
        381,
        238
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 381.0,
        "height": 238.0,
        "aspect_ratio": 1.6008403361344539,
        "ink_ratio": 0.07842034451575906,
        "edge_ratio": 0.06877081541277928,
        "table_line_ratio": 0.05283530735128697,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_005_figure_010.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_005_figure_011.png",
      "page": 5,
      "index": 11,
      "size_px": [
        381,
        236
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 381.0,
        "height": 236.0,
        "aspect_ratio": 1.6144067796610169,
        "ink_ratio": 0.15347657813959695,
        "edge_ratio": 0.11442902264335603,
        "table_line_ratio": 0.09084033987277014,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_005_figure_011.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_005_figure_012.png",
      "page": 5,
      "index": 12,
      "size_px": [
        384,
        237
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 384.0,
        "height": 237.0,
        "aspect_ratio": 1.620253164556962,
        "ink_ratio": 0.07858649789029536,
        "edge_ratio": 0.0606320323488045,
        "table_line_ratio": 0.05678621659634318,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_005_figure_012.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_005_figure_013.png",
      "page": 5,
      "index": 13,
      "size_px": [
        382,
        238
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 382.0,
        "height": 238.0,
        "aspect_ratio": 1.6050420168067228,
        "ink_ratio": 0.14238417880241103,
        "edge_ratio": 0.12102380219103348,
        "table_line_ratio": 0.0883562849223459,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_005_figure_013.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_005_figure_014.png",
      "page": 5,
      "index": 14,
      "size_px": [
        382,
        237
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 382.0,
        "height": 237.0,
        "aspect_ratio": 1.6118143459915613,
        "ink_ratio": 0.09483729869441315,
        "edge_ratio": 0.073762343428988,
        "table_line_ratio": 0.06583162126935736,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_005_figure_014.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_006_figure_015.png",
      "page": 6,
      "index": 15,
      "size_px": [
        784,
        301
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 784.0,
        "height": 301.0,
        "aspect_ratio": 2.604651162790698,
        "ink_ratio": 0.029900332225913623,
        "edge_ratio": 0.03507441182453048,
        "table_line_ratio": 0.01382297104888467,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_006_figure_015.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_006_figure_016.png",
      "page": 6,
      "index": 16,
      "size_px": [
        195,
        203
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 195.0,
        "height": 203.0,
        "aspect_ratio": 0.9605911330049262,
        "ink_ratio": 0.16218264494126564,
        "edge_ratio": 0.11481621826449413,
        "table_line_ratio": 0.10635341669824429,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_006_figure_016.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_007_figure_017.png",
      "page": 7,
      "index": 17,
      "size_px": [
        37,
        40
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 37.0,
        "height": 40.0,
        "aspect_ratio": 0.925,
        "ink_ratio": 0.1581081081081081,
        "edge_ratio": 0.15472972972972973,
        "table_line_ratio": 0.02972972972972973,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_008_figure_018.png",
      "page": 8,
      "index": 18,
      "size_px": [
        200,
        219
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 200.0,
        "height": 219.0,
        "aspect_ratio": 0.91324200913242,
        "ink_ratio": 0.19940639269406393,
        "edge_ratio": 0.13513698630136986,
        "table_line_ratio": 0.12452054794520548,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_008_figure_018.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_008_figure_019.png",
      "page": 8,
      "index": 19,
      "size_px": [
        65,
        34
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 65.0,
        "height": 34.0,
        "aspect_ratio": 1.911764705882353,
        "ink_ratio": 0.2402714932126697,
        "edge_ratio": 0.2737556561085973,
        "table_line_ratio": 0.06561085972850679,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-07HFT/page_008_figure_020.png",
      "page": 8,
      "index": 20,
      "size_px": [
        165,
        206
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 165.0,
        "height": 206.0,
        "aspect_ratio": 0.8009708737864077,
        "ink_ratio": 0.2400411885848779,
        "edge_ratio": 0.18955575169167402,
        "table_line_ratio": 0.15757575757575756,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-07HFT/page_008_figure_020.png"
    },
    {
      "file": "data/figures/SIF-07HFT/page_011_figure_021.png",
      "page": 11,
      "index": 21,
      "size_px": [
        784,
        153
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 784.0,
        "height": 153.0,
        "aspect_ratio": 5.124183006535947,
        "ink_ratio": 0.08591770041349873,
        "edge_ratio": 0.09156996131786048,
        "table_line_ratio": 0.05697278911564626,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    }
  ]
}