{
  "doc_id": "SEH-PS08T",
  "source_pdf": "uploads/pdfs/SEH-PS08T.pdf",
  "num_images_total": 15,
  "num_images_kept": 6,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SEH-PS08T/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        377,
        818
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 377.0,
        "height": 818.0,
        "aspect_ratio": 0.460880195599022,
        "ink_ratio": 0.9733613069335184,
        "edge_ratio": 0.09627868969408468,
        "table_line_ratio": 0.8408488063660478,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-PS08T/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SEH-PS08T/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        45,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 44.0,
        "aspect_ratio": 1.0227272727272727,
        "ink_ratio": 0.40555555555555556,
        "edge_ratio": 0.2686868686868687,
        "table_line_ratio": 0.2080808080808081,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        45,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 43.0,
        "aspect_ratio": 1.0465116279069768,
        "ink_ratio": 0.3343669250645995,
        "edge_ratio": 0.2785529715762274,
        "table_line_ratio": 0.11162790697674418,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        44,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 42.0,
        "aspect_ratio": 1.0476190476190477,
        "ink_ratio": 0.3630952380952381,
        "edge_ratio": 0.23971861471861472,
        "table_line_ratio": 0.15854978354978355,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        46,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 45.0,
        "aspect_ratio": 1.0222222222222221,
        "ink_ratio": 0.33768115942028987,
        "edge_ratio": 0.24396135265700483,
        "table_line_ratio": 0.11932367149758454,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        46,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 45.0,
        "aspect_ratio": 1.0222222222222221,
        "ink_ratio": 0.24830917874396136,
        "edge_ratio": 0.17777777777777778,
        "table_line_ratio": 0.09082125603864734,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        43,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 43.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.5202812330989725,
        "edge_ratio": 0.1887506760411033,
        "table_line_ratio": 0.458085451595457,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_002_figure_008.png",
      "page": 2,
      "index": 8,
      "size_px": [
        41,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 41.0,
        "height": 41.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.734681737061273,
        "edge_ratio": 0.10945865556216537,
        "table_line_ratio": 0.7352766210588935,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_004_figure_009.png",
      "page": 4,
      "index": 9,
      "size_px": [
        807,
        715
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 807.0,
        "height": 715.0,
        "aspect_ratio": 1.1286713286713286,
        "ink_ratio": 0.07340317674890165,
        "edge_ratio": 0.11036299512135943,
        "table_line_ratio": 0.028869767159729984,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-PS08T/page_004_figure_009.png"
    },
    {
      "file": "data/figures/SEH-PS08T/page_005_figure_010.png",
      "page": 5,
      "index": 10,
      "size_px": [
        795,
        364
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 795.0,
        "height": 364.0,
        "aspect_ratio": 2.184065934065934,
        "ink_ratio": 0.04644412191582003,
        "edge_ratio": 0.05027299744280876,
        "table_line_ratio": 0.0360218397954247,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-PS08T/page_005_figure_010.png"
    },
    {
      "file": "data/figures/SEH-PS08T/page_005_figure_011.png",
      "page": 5,
      "index": 11,
      "size_px": [
        794,
        434
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 794.0,
        "height": 434.0,
        "aspect_ratio": 1.8294930875576036,
        "ink_ratio": 0.05404879917352494,
        "edge_ratio": 0.05088567481920858,
        "table_line_ratio": 0.03168928252214187,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-PS08T/page_005_figure_011.png"
    },
    {
      "file": "data/figures/SEH-PS08T/page_007_figure_012.png",
      "page": 7,
      "index": 12,
      "size_px": [
        93,
        96
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 93.0,
        "height": 96.0,
        "aspect_ratio": 0.96875,
        "ink_ratio": 0.11491935483870967,
        "edge_ratio": 0.15255376344086022,
        "table_line_ratio": 0.08971774193548387,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-PS08T/page_007_figure_013.png",
      "page": 7,
      "index": 13,
      "size_px": [
        231,
        200
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 231.0,
        "height": 200.0,
        "aspect_ratio": 1.155,
        "ink_ratio": 0.047142857142857146,
        "edge_ratio": 0.06437229437229437,
        "table_line_ratio": 0.011623376623376624,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-PS08T/page_007_figure_013.png"
    },
    {
      "file": "data/figures/SEH-PS08T/page_007_figure_014.png",
      "page": 7,
      "index": 14,
      "size_px": [
        797,
        330
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 797.0,
        "height": 330.0,
        "aspect_ratio": 2.415151515151515,
        "ink_ratio": 0.03846241587772328,
        "edge_ratio": 0.04189954754572069,
        "table_line_ratio": 0.018778753659556672,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-PS08T/page_007_figure_014.png"
    },
    {
      "file": "data/figures/SEH-PS08T/page_011_figure_015.png",
      "page": 11,
      "index": 15,
      "size_px": [
        783,
        155
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 783.0,
        "height": 155.0,
        "aspect_ratio": 5.051612903225807,
        "ink_ratio": 0.08738928027025913,
        "edge_ratio": 0.08914431673052363,
        "table_line_ratio": 0.05995962592180612,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    }
  ]
}