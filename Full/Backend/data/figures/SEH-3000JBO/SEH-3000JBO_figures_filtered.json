{
  "doc_id": "SEH-3000JBO",
  "source_pdf": "data/raw/SEH-3000JBO.pdf",
  "num_images_total": 17,
  "num_images_kept": 8,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SEH-3000JBO/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        389,
        729
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 389.0,
        "height": 729.0,
        "aspect_ratio": 0.53360768175583,
        "ink_ratio": 0.9046656863471108,
        "edge_ratio": 0.15586023041035896,
        "table_line_ratio": 0.705858290929223,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        44,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 42.0,
        "aspect_ratio": 1.0476190476190477,
        "ink_ratio": 0.362012987012987,
        "edge_ratio": 0.24025974025974026,
        "table_line_ratio": 0.1699134199134199,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        45,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 43.0,
        "aspect_ratio": 1.0465116279069768,
        "ink_ratio": 0.3302325581395349,
        "edge_ratio": 0.27906976744186046,
        "table_line_ratio": 0.11679586563307494,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        45,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 44.0,
        "aspect_ratio": 1.0227272727272727,
        "ink_ratio": 0.4015151515151515,
        "edge_ratio": 0.2691919191919192,
        "table_line_ratio": 0.20707070707070707,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        47,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 47.0,
        "height": 44.0,
        "aspect_ratio": 1.0681818181818181,
        "ink_ratio": 0.3307543520309478,
        "edge_ratio": 0.2437137330754352,
        "table_line_ratio": 0.12427466150870406,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        46,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 45.0,
        "aspect_ratio": 1.0222222222222221,
        "ink_ratio": 0.2463768115942029,
        "edge_ratio": 0.17922705314009663,
        "table_line_ratio": 0.0927536231884058,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        43,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 42.0,
        "aspect_ratio": 1.0238095238095237,
        "ink_ratio": 0.5293466223698782,
        "edge_ratio": 0.1921373200442968,
        "table_line_ratio": 0.48172757475083056,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_002_figure_008.png",
      "page": 2,
      "index": 8,
      "size_px": [
        41,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 41.0,
        "height": 42.0,
        "aspect_ratio": 0.9761904761904762,
        "ink_ratio": 0.7212543554006968,
        "edge_ratio": 0.11498257839721254,
        "table_line_ratio": 0.7288037166085947,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_004_figure_009.png",
      "page": 4,
      "index": 9,
      "size_px": [
        257,
        328
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 257.0,
        "height": 328.0,
        "aspect_ratio": 0.7835365853658537,
        "ink_ratio": 0.11293537059884218,
        "edge_ratio": 0.1240984151086647,
        "table_line_ratio": 0.05531697826705893,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_004_figure_009.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_004_figure_010.png",
      "page": 4,
      "index": 10,
      "size_px": [
        239,
        298
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 239.0,
        "height": 298.0,
        "aspect_ratio": 0.802013422818792,
        "ink_ratio": 0.14599421527056247,
        "edge_ratio": 0.11385526943921821,
        "table_line_ratio": 0.06844795147566764,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_004_figure_010.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_004_figure_011.png",
      "page": 4,
      "index": 11,
      "size_px": [
        565,
        768
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 565.0,
        "height": 768.0,
        "aspect_ratio": 0.7356770833333334,
        "ink_ratio": 0.1203125,
        "edge_ratio": 0.10486725663716814,
        "table_line_ratio": 0.02003595132743363,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_004_figure_011.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_005_figure_012.png",
      "page": 5,
      "index": 12,
      "size_px": [
        779,
        346
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 779.0,
        "height": 346.0,
        "aspect_ratio": 2.2514450867052025,
        "ink_ratio": 0.36913710329680116,
        "edge_ratio": 0.05892021043727322,
        "table_line_ratio": 0.3380278554839093,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_005_figure_012.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_006_figure_013.png",
      "page": 6,
      "index": 13,
      "size_px": [
        386,
        236
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 386.0,
        "height": 236.0,
        "aspect_ratio": 1.6355932203389831,
        "ink_ratio": 0.07684201282163872,
        "edge_ratio": 0.07061780978308597,
        "table_line_ratio": 0.04637964345306051,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_006_figure_013.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_006_figure_014.png",
      "page": 6,
      "index": 14,
      "size_px": [
        794,
        294
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 794.0,
        "height": 294.0,
        "aspect_ratio": 2.7006802721088436,
        "ink_ratio": 0.047730427183467844,
        "edge_ratio": 0.05802446923353724,
        "table_line_ratio": 0.015605990507034049,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_006_figure_014.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_007_figure_015.png",
      "page": 7,
      "index": 15,
      "size_px": [
        769,
        391
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 769.0,
        "height": 391.0,
        "aspect_ratio": 1.9667519181585678,
        "ink_ratio": 0.12440177065907496,
        "edge_ratio": 0.08729575394357438,
        "table_line_ratio": 0.03995623239401488,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-3000JBO/page_007_figure_015.png"
    },
    {
      "file": "data/figures/SEH-3000JBO/page_011_figure_016.png",
      "page": 11,
      "index": 16,
      "size_px": [
        783,
        154
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 783.0,
        "height": 154.0,
        "aspect_ratio": 5.084415584415584,
        "ink_ratio": 0.09140667761357417,
        "edge_ratio": 0.09082615979167703,
        "table_line_ratio": 0.06532484118691015,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-3000JBO/page_012_figure_017.png",
      "page": 12,
      "index": 17,
      "size_px": [
        116,
        113
      ],
      "keep_for_caption": false,
      "category": "qr_code_heuristic",
      "tags": [
        "qr_code"
      ],
      "metrics": {
        "width": 116.0,
        "height": 113.0,
        "aspect_ratio": 1.0265486725663717,
        "ink_ratio": 0.5966585291425084,
        "edge_ratio": 0.23153799206591394,
        "table_line_ratio": 0.3878547451937748,
        "is_qr_code": true,
        "qr_heuristic": true,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": null
    }
  ]
}