{
  "doc_id": "SMX-H400SI",
  "source_pdf": "data/raw/SMX-H400SI.pdf",
  "num_images_total": 15,
  "num_images_kept": 7,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SMX-H400SI/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        455,
        654
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 455.0,
        "height": 654.0,
        "aspect_ratio": 0.6957186544342507,
        "ink_ratio": 0.9716705313035588,
        "edge_ratio": 0.06664314278993178,
        "table_line_ratio": 0.9371677252411197,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-H400SI/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SMX-H400SI/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        42,
        46
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 42.0,
        "height": 46.0,
        "aspect_ratio": 0.9130434782608695,
        "ink_ratio": 0.34006211180124224,
        "edge_ratio": 0.21583850931677018,
        "table_line_ratio": 0.17184265010351968,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-H400SI/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        42,
        40
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 42.0,
        "height": 40.0,
        "aspect_ratio": 1.05,
        "ink_ratio": 0.35892857142857143,
        "edge_ratio": 0.24702380952380953,
        "table_line_ratio": 0.16428571428571428,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-H400SI/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        42,
        40
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 42.0,
        "height": 40.0,
        "aspect_ratio": 1.05,
        "ink_ratio": 0.38571428571428573,
        "edge_ratio": 0.25,
        "table_line_ratio": 0.18928571428571428,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-H400SI/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        39,
        39
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 39.0,
        "height": 39.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.47337278106508873,
        "edge_ratio": 0.1946088099934254,
        "table_line_ratio": 0.42998027613412226,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-H400SI/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        41,
        40
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 41.0,
        "height": 40.0,
        "aspect_ratio": 1.025,
        "ink_ratio": 0.31402439024390244,
        "edge_ratio": 0.19146341463414634,
        "table_line_ratio": 0.13658536585365855,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-H400SI/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        37,
        37
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 37.0,
        "height": 37.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.6968590211833455,
        "edge_ratio": 0.12490869247626005,
        "table_line_ratio": 0.7151205259313368,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-H400SI/page_004_figure_008.png",
      "page": 4,
      "index": 8,
      "size_px": [
        202,
        305
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 202.0,
        "height": 305.0,
        "aspect_ratio": 0.6622950819672131,
        "ink_ratio": 0.09474111345560786,
        "edge_ratio": 0.1250770978737218,
        "table_line_ratio": 0.06346372342152248,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-H400SI/page_004_figure_008.png"
    },
    {
      "file": "data/figures/SMX-H400SI/page_004_figure_009.png",
      "page": 4,
      "index": 9,
      "size_px": [
        129,
        91
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 129.0,
        "height": 91.0,
        "aspect_ratio": 1.4175824175824177,
        "ink_ratio": 0.11372348581650907,
        "edge_ratio": 0.13118664281454978,
        "table_line_ratio": 0.033052219098730726,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-H400SI/page_004_figure_009.png"
    },
    {
      "file": "data/figures/SMX-H400SI/page_005_figure_010.png",
      "page": 5,
      "index": 10,
      "size_px": [
        633,
        726
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 633.0,
        "height": 726.0,
        "aspect_ratio": 0.871900826446281,
        "ink_ratio": 0.06585240600751156,
        "edge_ratio": 0.06959513271447783,
        "table_line_ratio": 0.01240104622267483,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-H400SI/page_005_figure_010.png"
    },
    {
      "file": "data/figures/SMX-H400SI/page_007_figure_011.png",
      "page": 7,
      "index": 11,
      "size_px": [
        229,
        252
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 229.0,
        "height": 252.0,
        "aspect_ratio": 0.9087301587301587,
        "ink_ratio": 0.11447286338116032,
        "edge_ratio": 0.08102862688015526,
        "table_line_ratio": 0.061828515976987596,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-H400SI/page_007_figure_011.png"
    },
    {
      "file": "data/figures/SMX-H400SI/page_008_figure_012.png",
      "page": 8,
      "index": 12,
      "size_px": [
        203,
        312
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 203.0,
        "height": 312.0,
        "aspect_ratio": 0.6506410256410257,
        "ink_ratio": 0.09725906277630415,
        "edge_ratio": 0.12559997473790577,
        "table_line_ratio": 0.06770241252999874,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-H400SI/page_008_figure_012.png"
    },
    {
      "file": "data/figures/SMX-H400SI/page_008_figure_013.png",
      "page": 8,
      "index": 13,
      "size_px": [
        616,
        182
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 616.0,
        "height": 182.0,
        "aspect_ratio": 3.3846153846153846,
        "ink_ratio": 0.061108534322820034,
        "edge_ratio": 0.07652169259312117,
        "table_line_ratio": 0.04352790067075781,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-H400SI/page_008_figure_013.png"
    },
    {
      "file": "data/figures/SMX-H400SI/page_015_figure_014.png",
      "page": 15,
      "index": 14,
      "size_px": [
        687,
        132
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 687.0,
        "height": 132.0,
        "aspect_ratio": 5.204545454545454,
        "ink_ratio": 0.0954964492082396,
        "edge_ratio": 0.10014997132901063,
        "table_line_ratio": 0.07258171231970359,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-H400SI/page_016_figure_015.png",
      "page": 16,
      "index": 15,
      "size_px": [
        105,
        104
      ],
      "keep_for_caption": false,
      "category": "qr_code",
      "tags": [
        "qr_code"
      ],
      "metrics": {
        "width": 105.0,
        "height": 104.0,
        "aspect_ratio": 1.0096153846153846,
        "ink_ratio": 0.6116300366300367,
        "edge_ratio": 0.253021978021978,
        "table_line_ratio": 0.3747252747252747,
        "is_qr_code": true,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": null
    }
  ]
}