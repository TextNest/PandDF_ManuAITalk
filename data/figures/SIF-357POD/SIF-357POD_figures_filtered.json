{
  "doc_id": "SIF-357POD",
  "source_pdf": "data/raw/SIF-357POD.pdf",
  "num_images_total": 15,
  "num_images_kept": 9,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SIF-357POD/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        766,
        1125
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 766.0,
        "height": 1125.0,
        "aspect_ratio": 0.6808888888888889,
        "ink_ratio": 0.1105599071656513,
        "edge_ratio": 0.03652335364084711,
        "table_line_ratio": 0.0790426457789382,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        45,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 44.0,
        "aspect_ratio": 1.0227272727272727,
        "ink_ratio": 0.41515151515151516,
        "edge_ratio": 0.21818181818181817,
        "table_line_ratio": 0.24898989898989898,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-357POD/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        45,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 44.0,
        "aspect_ratio": 1.0227272727272727,
        "ink_ratio": 0.4176767676767677,
        "edge_ratio": 0.2474747474747475,
        "table_line_ratio": 0.20707070707070707,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-357POD/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        45,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 45.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.331358024691358,
        "edge_ratio": 0.17580246913580247,
        "table_line_ratio": 0.16246913580246913,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-357POD/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        43,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 44.0,
        "aspect_ratio": 0.9772727272727273,
        "ink_ratio": 0.5058139534883721,
        "edge_ratio": 0.18816067653276955,
        "table_line_ratio": 0.4429175475687104,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-357POD/page_004_figure_006.png",
      "page": 4,
      "index": 6,
      "size_px": [
        804,
        529
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 804.0,
        "height": 529.0,
        "aspect_ratio": 1.5198487712665407,
        "ink_ratio": 0.09174355067761382,
        "edge_ratio": 0.09012828108982497,
        "table_line_ratio": 0.03506334113929408,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_004_figure_006.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_004_figure_007.png",
      "page": 4,
      "index": 7,
      "size_px": [
        771,
        253
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 771.0,
        "height": 253.0,
        "aspect_ratio": 3.047430830039526,
        "ink_ratio": 0.138575742196111,
        "edge_ratio": 0.168268713184971,
        "table_line_ratio": 0.02815500633128784,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_004_figure_007.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_005_figure_008.png",
      "page": 5,
      "index": 8,
      "size_px": [
        779,
        347
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 779.0,
        "height": 347.0,
        "aspect_ratio": 2.244956772334294,
        "ink_ratio": 0.16554512731537144,
        "edge_ratio": 0.03650212901340298,
        "table_line_ratio": 0.10117530418440844,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_005_figure_008.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_005_figure_009.png",
      "page": 5,
      "index": 9,
      "size_px": [
        255,
        223
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 255.0,
        "height": 223.0,
        "aspect_ratio": 1.1434977578475336,
        "ink_ratio": 0.09155016266596325,
        "edge_ratio": 0.11569506726457399,
        "table_line_ratio": 0.11077112459333509,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_005_figure_009.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_005_figure_010.png",
      "page": 5,
      "index": 10,
      "size_px": [
        188,
        178
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 188.0,
        "height": 178.0,
        "aspect_ratio": 1.0561797752808988,
        "ink_ratio": 0.6026775041836003,
        "edge_ratio": 0.07434855366961511,
        "table_line_ratio": 0.4675770977767153,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_005_figure_010.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_005_figure_011.png",
      "page": 5,
      "index": 11,
      "size_px": [
        157,
        184
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 157.0,
        "height": 184.0,
        "aspect_ratio": 0.8532608695652174,
        "ink_ratio": 0.6350387704237054,
        "edge_ratio": 0.05552478537801163,
        "table_line_ratio": 0.4842148989199668,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_005_figure_011.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_005_figure_012.png",
      "page": 5,
      "index": 12,
      "size_px": [
        240,
        100
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 240.0,
        "height": 100.0,
        "aspect_ratio": 2.4,
        "ink_ratio": 0.45045833333333335,
        "edge_ratio": 0.07095833333333333,
        "table_line_ratio": 0.475,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_005_figure_012.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_006_figure_013.png",
      "page": 6,
      "index": 13,
      "size_px": [
        782,
        274
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 782.0,
        "height": 274.0,
        "aspect_ratio": 2.854014598540146,
        "ink_ratio": 0.11719902178580097,
        "edge_ratio": 0.1249696641589038,
        "table_line_ratio": 0.0397959564657345,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-357POD/page_006_figure_013.png"
    },
    {
      "file": "data/figures/SIF-357POD/page_007_figure_014.png",
      "page": 7,
      "index": 14,
      "size_px": [
        783,
        151
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 783.0,
        "height": 151.0,
        "aspect_ratio": 5.185430463576159,
        "ink_ratio": 0.08370759432645708,
        "edge_ratio": 0.08576285808530613,
        "table_line_ratio": 0.05570356837769489,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-357POD/page_008_figure_015.png",
      "page": 8,
      "index": 15,
      "size_px": [
        116,
        114
      ],
      "keep_for_caption": false,
      "category": "qr_code_heuristic",
      "tags": [
        "qr_code"
      ],
      "metrics": {
        "width": 116.0,
        "height": 114.0,
        "aspect_ratio": 1.0175438596491229,
        "ink_ratio": 0.5757713248638838,
        "edge_ratio": 0.2307924984875983,
        "table_line_ratio": 0.37084089534180276,
        "is_qr_code": true,
        "qr_heuristic": true,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": null
    }
  ]
}