{
  "doc_id": "SVC-BCL20",
  "source_pdf": "data/raw/SVC-BCL20.pdf",
  "num_images_total": 23,
  "num_images_kept": 10,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SVC-BCL20/page_002_figure_001.png",
      "page": 2,
      "index": 1,
      "size_px": [
        42,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 42.0,
        "height": 41.0,
        "aspect_ratio": 1.024390243902439,
        "ink_ratio": 0.42044134727061555,
        "edge_ratio": 0.2346109175377468,
        "table_line_ratio": 0.22938443670150988,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        42,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 42.0,
        "height": 43.0,
        "aspect_ratio": 0.9767441860465116,
        "ink_ratio": 0.4169435215946844,
        "edge_ratio": 0.2552602436323367,
        "table_line_ratio": 0.19158361018826134,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        43,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 42.0,
        "aspect_ratio": 1.0238095238095237,
        "ink_ratio": 0.39313399778516056,
        "edge_ratio": 0.25802879291251385,
        "table_line_ratio": 0.18549280177187155,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        44,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 43.0,
        "aspect_ratio": 1.0232558139534884,
        "ink_ratio": 0.322938689217759,
        "edge_ratio": 0.18181818181818182,
        "table_line_ratio": 0.14376321353065538,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        40,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 40.0,
        "height": 41.0,
        "aspect_ratio": 0.975609756097561,
        "ink_ratio": 0.6920731707317073,
        "edge_ratio": 0.11463414634146342,
        "table_line_ratio": 0.7073170731707317,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        43,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 42.0,
        "aspect_ratio": 1.0238095238095237,
        "ink_ratio": 0.4844961240310077,
        "edge_ratio": 0.18660022148394242,
        "table_line_ratio": 0.42967884828349945,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_007.png",
      "page": 4,
      "index": 7,
      "size_px": [
        610,
        287
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 610.0,
        "height": 287.0,
        "aspect_ratio": 2.1254355400696863,
        "ink_ratio": 0.04225167076026732,
        "edge_ratio": 0.04942594390815103,
        "table_line_ratio": 0.015479522476723597,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_004_figure_007.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_008.png",
      "page": 4,
      "index": 8,
      "size_px": [
        660,
        478
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 660.0,
        "height": 478.0,
        "aspect_ratio": 1.3807531380753137,
        "ink_ratio": 0.034258907062254346,
        "edge_ratio": 0.04102003296563966,
        "table_line_ratio": 0.028417015341701535,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_004_figure_008.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_009.png",
      "page": 4,
      "index": 9,
      "size_px": [
        61,
        61
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 61.0,
        "height": 61.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.5984950282182209,
        "edge_ratio": 0.14969094329481322,
        "table_line_ratio": 0.5732330018812147,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_010.png",
      "page": 4,
      "index": 10,
      "size_px": [
        61,
        59
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 61.0,
        "height": 59.0,
        "aspect_ratio": 1.0338983050847457,
        "ink_ratio": 0.6168380105584884,
        "edge_ratio": 0.1414281744929147,
        "table_line_ratio": 0.6118366212836899,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_011.png",
      "page": 4,
      "index": 11,
      "size_px": [
        60,
        59
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 60.0,
        "height": 59.0,
        "aspect_ratio": 1.0169491525423728,
        "ink_ratio": 0.7550847457627119,
        "edge_ratio": 0.15423728813559323,
        "table_line_ratio": 0.6790960451977401,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_012.png",
      "page": 4,
      "index": 12,
      "size_px": [
        60,
        60
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 60.0,
        "height": 60.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.6741666666666667,
        "edge_ratio": 0.1213888888888889,
        "table_line_ratio": 0.6730555555555555,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_013.png",
      "page": 4,
      "index": 13,
      "size_px": [
        61,
        63
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 61.0,
        "height": 63.0,
        "aspect_ratio": 0.9682539682539683,
        "ink_ratio": 0.6396044756700494,
        "edge_ratio": 0.12646370023419204,
        "table_line_ratio": 0.618527192297684,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_004_figure_014.png",
      "page": 4,
      "index": 14,
      "size_px": [
        62,
        61
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 62.0,
        "height": 61.0,
        "aspect_ratio": 1.0163934426229508,
        "ink_ratio": 0.6501850872554205,
        "edge_ratio": 0.14516129032258066,
        "table_line_ratio": 0.6639344262295082,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SVC-BCL20/page_005_figure_015.png",
      "page": 5,
      "index": 15,
      "size_px": [
        374,
        275
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 374.0,
        "height": 275.0,
        "aspect_ratio": 1.36,
        "ink_ratio": 0.05438988818667963,
        "edge_ratio": 0.05903743315508021,
        "table_line_ratio": 0.016246961594555177,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_005_figure_015.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_005_figure_016.png",
      "page": 5,
      "index": 16,
      "size_px": [
        317,
        216
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 317.0,
        "height": 216.0,
        "aspect_ratio": 1.4675925925925926,
        "ink_ratio": 0.08136172450052576,
        "edge_ratio": 0.05424114966701717,
        "table_line_ratio": 0.04490886785839467,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_005_figure_016.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_005_figure_017.png",
      "page": 5,
      "index": 17,
      "size_px": [
        321,
        213
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 321.0,
        "height": 213.0,
        "aspect_ratio": 1.5070422535211268,
        "ink_ratio": 0.12942243283167332,
        "edge_ratio": 0.1012680444034926,
        "table_line_ratio": 0.0571424392669621,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_005_figure_017.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_005_figure_018.png",
      "page": 5,
      "index": 18,
      "size_px": [
        315,
        266
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 315.0,
        "height": 266.0,
        "aspect_ratio": 1.1842105263157894,
        "ink_ratio": 0.05688029597804034,
        "edge_ratio": 0.07023511158849505,
        "table_line_ratio": 0.012555197517603532,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_005_figure_018.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_006_figure_019.png",
      "page": 6,
      "index": 19,
      "size_px": [
        245,
        196
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 245.0,
        "height": 196.0,
        "aspect_ratio": 1.25,
        "ink_ratio": 0.08583923365264473,
        "edge_ratio": 0.08769262807163682,
        "table_line_ratio": 0.03304872969596002,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_006_figure_019.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_006_figure_020.png",
      "page": 6,
      "index": 20,
      "size_px": [
        200,
        179
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 200.0,
        "height": 179.0,
        "aspect_ratio": 1.1173184357541899,
        "ink_ratio": 0.12581005586592178,
        "edge_ratio": 0.12427374301675978,
        "table_line_ratio": 0.05301675977653631,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_006_figure_020.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_006_figure_021.png",
      "page": 6,
      "index": 21,
      "size_px": [
        221,
        218
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 221.0,
        "height": 218.0,
        "aspect_ratio": 1.0137614678899083,
        "ink_ratio": 0.08912781767611773,
        "edge_ratio": 0.08202914193200216,
        "table_line_ratio": 0.04767736311179376,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_006_figure_021.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_006_figure_022.png",
      "page": 6,
      "index": 22,
      "size_px": [
        201,
        191
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 201.0,
        "height": 191.0,
        "aspect_ratio": 1.0523560209424083,
        "ink_ratio": 0.11276080331327655,
        "edge_ratio": 0.16152223177307182,
        "table_line_ratio": 0.0,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SVC-BCL20/page_006_figure_022.png"
    },
    {
      "file": "data/figures/SVC-BCL20/page_009_figure_023.png",
      "page": 9,
      "index": 23,
      "size_px": [
        784,
        153
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 784.0,
        "height": 153.0,
        "aspect_ratio": 5.124183006535947,
        "ink_ratio": 0.08601774042950514,
        "edge_ratio": 0.0913031879418434,
        "table_line_ratio": 0.05889855942376951,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    }
  ]
}