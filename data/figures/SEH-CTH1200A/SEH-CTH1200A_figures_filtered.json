{
  "doc_id": "SEH-CTH1200A",
  "source_pdf": "data/raw/SEH-CTH1200A.pdf",
  "num_images_total": 12,
  "num_images_kept": 5,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SEH-CTH1200A/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        299,
        657
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 299.0,
        "height": 657.0,
        "aspect_ratio": 0.4550989345509893,
        "ink_ratio": 0.9404967344216898,
        "edge_ratio": 0.11341203300703002,
        "table_line_ratio": 0.7930799264926722,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-CTH1200A/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        45,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 43.0,
        "aspect_ratio": 1.0465116279069768,
        "ink_ratio": 0.42170542635658914,
        "edge_ratio": 0.22325581395348837,
        "table_line_ratio": 0.2656330749354005,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        46,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 45.0,
        "aspect_ratio": 1.0222222222222221,
        "ink_ratio": 0.3714975845410628,
        "edge_ratio": 0.24154589371980675,
        "table_line_ratio": 0.2,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        47,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 47.0,
        "height": 45.0,
        "aspect_ratio": 1.0444444444444445,
        "ink_ratio": 0.3905437352245863,
        "edge_ratio": 0.23167848699763594,
        "table_line_ratio": 0.21371158392434988,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        47,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 47.0,
        "height": 45.0,
        "aspect_ratio": 1.0444444444444445,
        "ink_ratio": 0.31678486997635935,
        "edge_ratio": 0.16784869976359337,
        "table_line_ratio": 0.1541371158392435,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        43,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 43.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.5056787452677123,
        "edge_ratio": 0.19361817198485667,
        "table_line_ratio": 0.4597079502433748,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_004_figure_007.png",
      "page": 4,
      "index": 7,
      "size_px": [
        798,
        620
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 798.0,
        "height": 620.0,
        "aspect_ratio": 1.2870967741935484,
        "ink_ratio": 0.04747756487994179,
        "edge_ratio": 0.056453634085213034,
        "table_line_ratio": 0.012709192335677905,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-CTH1200A/page_004_figure_007.png"
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_004_figure_008.png",
      "page": 4,
      "index": 8,
      "size_px": [
        242,
        181
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 242.0,
        "height": 181.0,
        "aspect_ratio": 1.3370165745856353,
        "ink_ratio": 0.07412903520387197,
        "edge_ratio": 0.08428838865805215,
        "table_line_ratio": 0.059563490251586686,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-CTH1200A/page_004_figure_008.png"
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_005_figure_009.png",
      "page": 5,
      "index": 9,
      "size_px": [
        727,
        247
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 727.0,
        "height": 247.0,
        "aspect_ratio": 2.9433198380566803,
        "ink_ratio": 0.10897760749349832,
        "edge_ratio": 0.12794524667398047,
        "table_line_ratio": 0.05461410377069539,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-CTH1200A/page_005_figure_009.png"
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_005_figure_010.png",
      "page": 5,
      "index": 10,
      "size_px": [
        163,
        260
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 163.0,
        "height": 260.0,
        "aspect_ratio": 0.6269230769230769,
        "ink_ratio": 0.13782444549315714,
        "edge_ratio": 0.0886974988201982,
        "table_line_ratio": 0.07107126002831524,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SEH-CTH1200A/page_005_figure_010.png"
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_007_figure_011.png",
      "page": 7,
      "index": 11,
      "size_px": [
        784,
        153
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 784.0,
        "height": 153.0,
        "aspect_ratio": 5.124183006535947,
        "ink_ratio": 0.07776443910897693,
        "edge_ratio": 0.09065292783780178,
        "table_line_ratio": 0.04733560090702948,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SEH-CTH1200A/page_008_figure_012.png",
      "page": 8,
      "index": 12,
      "size_px": [
        115,
        114
      ],
      "keep_for_caption": false,
      "category": "qr_code_heuristic",
      "tags": [
        "qr_code"
      ],
      "metrics": {
        "width": 115.0,
        "height": 114.0,
        "aspect_ratio": 1.0087719298245614,
        "ink_ratio": 0.6089244851258582,
        "edge_ratio": 0.23333333333333334,
        "table_line_ratio": 0.3869565217391304,
        "is_qr_code": true,
        "qr_heuristic": true,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": null
    }
  ]
}