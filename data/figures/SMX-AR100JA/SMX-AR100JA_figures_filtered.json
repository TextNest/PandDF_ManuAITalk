{
  "doc_id": "SMX-AR100JA",
  "source_pdf": "data/raw/SMX-AR100JA.pdf",
  "num_images_total": 18,
  "num_images_kept": 10,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SMX-AR100JA/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        402,
        755
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 402.0,
        "height": 755.0,
        "aspect_ratio": 0.5324503311258278,
        "ink_ratio": 0.968172383117525,
        "edge_ratio": 0.03788672531382821,
        "table_line_ratio": 0.9536226153998221,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        45,
        42
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 42.0,
        "aspect_ratio": 1.0714285714285714,
        "ink_ratio": 0.4396825396825397,
        "edge_ratio": 0.22433862433862434,
        "table_line_ratio": 0.2788359788359788,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-AR100JA/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        45,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 44.0,
        "aspect_ratio": 1.0227272727272727,
        "ink_ratio": 0.3994949494949495,
        "edge_ratio": 0.251010101010101,
        "table_line_ratio": 0.21717171717171718,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-AR100JA/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        46,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 43.0,
        "aspect_ratio": 1.069767441860465,
        "ink_ratio": 0.41708796764408496,
        "edge_ratio": 0.24266936299292213,
        "table_line_ratio": 0.21638018200202225,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-AR100JA/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        43,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 44.0,
        "aspect_ratio": 0.9772727272727273,
        "ink_ratio": 0.5079281183932347,
        "edge_ratio": 0.1886892177589852,
        "table_line_ratio": 0.44238900634249473,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-AR100JA/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        46,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 45.0,
        "aspect_ratio": 1.0222222222222221,
        "ink_ratio": 0.3285024154589372,
        "edge_ratio": 0.17101449275362318,
        "table_line_ratio": 0.17439613526570047,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-AR100JA/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        41,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 41.0,
        "height": 41.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.744794765020821,
        "edge_ratio": 0.1189767995240928,
        "table_line_ratio": 0.7662105889351577,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-AR100JA/page_004_figure_008.png",
      "page": 4,
      "index": 8,
      "size_px": [
        646,
        677
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 646.0,
        "height": 677.0,
        "aspect_ratio": 0.9542097488921714,
        "ink_ratio": 0.026366093354857296,
        "edge_ratio": 0.03182406446213718,
        "table_line_ratio": 0.010744451710560614,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_004_figure_008.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_005_figure_009.png",
      "page": 5,
      "index": 9,
      "size_px": [
        134,
        240
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 134.0,
        "height": 240.0,
        "aspect_ratio": 0.5583333333333333,
        "ink_ratio": 0.10139925373134329,
        "edge_ratio": 0.08603855721393035,
        "table_line_ratio": 0.07151741293532338,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_005_figure_009.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_005_figure_010.png",
      "page": 5,
      "index": 10,
      "size_px": [
        163,
        108
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 163.0,
        "height": 108.0,
        "aspect_ratio": 1.5092592592592593,
        "ink_ratio": 0.07100658941149739,
        "edge_ratio": 0.11912065439672802,
        "table_line_ratio": 0.03311747330152238,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_005_figure_010.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_005_figure_011.png",
      "page": 5,
      "index": 11,
      "size_px": [
        144,
        179
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 144.0,
        "height": 179.0,
        "aspect_ratio": 0.8044692737430168,
        "ink_ratio": 0.05745654872749845,
        "edge_ratio": 0.09085971446306641,
        "table_line_ratio": 0.027079453755431408,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_005_figure_011.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_005_figure_012.png",
      "page": 5,
      "index": 12,
      "size_px": [
        129,
        219
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 129.0,
        "height": 219.0,
        "aspect_ratio": 0.589041095890411,
        "ink_ratio": 0.1284202329121093,
        "edge_ratio": 0.12222576191993204,
        "table_line_ratio": 0.08318289618066617,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_005_figure_012.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_005_figure_013.png",
      "page": 5,
      "index": 13,
      "size_px": [
        176,
        292
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 176.0,
        "height": 292.0,
        "aspect_ratio": 0.6027397260273972,
        "ink_ratio": 0.06362858032378581,
        "edge_ratio": 0.08069349315068493,
        "table_line_ratio": 0.03342932752179328,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_005_figure_013.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_005_figure_014.png",
      "page": 5,
      "index": 14,
      "size_px": [
        217,
        231
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 217.0,
        "height": 231.0,
        "aspect_ratio": 0.9393939393939394,
        "ink_ratio": 0.06104494583757256,
        "edge_ratio": 0.07417160412552118,
        "table_line_ratio": 0.02948510782612165,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_005_figure_014.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_005_figure_015.png",
      "page": 5,
      "index": 15,
      "size_px": [
        209,
        139
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 209.0,
        "height": 139.0,
        "aspect_ratio": 1.5035971223021583,
        "ink_ratio": 0.06106502357922275,
        "edge_ratio": 0.08887817975284844,
        "table_line_ratio": 0.023820178307115074,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_005_figure_015.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_006_figure_016.png",
      "page": 6,
      "index": 16,
      "size_px": [
        785,
        220
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 785.0,
        "height": 220.0,
        "aspect_ratio": 3.5681818181818183,
        "ink_ratio": 0.044331210191082805,
        "edge_ratio": 0.05696004632310365,
        "table_line_ratio": 0.03398957730167921,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SMX-AR100JA/page_006_figure_016.png"
    },
    {
      "file": "data/figures/SMX-AR100JA/page_007_figure_017.png",
      "page": 7,
      "index": 17,
      "size_px": [
        783,
        152
      ],
      "keep_for_caption": false,
      "category": "procedure_banner",
      "tags": [
        "procedure_banner"
      ],
      "metrics": {
        "width": 783.0,
        "height": 152.0,
        "aspect_ratio": 5.151315789473684,
        "ink_ratio": 0.08857632587215164,
        "edge_ratio": 0.08930732002419843,
        "table_line_ratio": 0.06094978826376286,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": true
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SMX-AR100JA/page_008_figure_018.png",
      "page": 8,
      "index": 18,
      "size_px": [
        116,
        114
      ],
      "keep_for_caption": false,
      "category": "qr_code_heuristic",
      "tags": [
        "qr_code"
      ],
      "metrics": {
        "width": 116.0,
        "height": 114.0,
        "aspect_ratio": 1.0175438596491229,
        "ink_ratio": 0.5764519056261344,
        "edge_ratio": 0.23041439806412584,
        "table_line_ratio": 0.37212643678160917,
        "is_qr_code": true,
        "qr_heuristic": true,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": null
    }
  ]
}