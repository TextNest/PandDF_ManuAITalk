{
  "doc_id": "SIF-C12ER_B",
  "source_pdf": "data/raw/SIF-C12ER_B.pdf",
  "num_images_total": 19,
  "num_images_kept": 8,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_001.png",
      "page": 2,
      "index": 1,
      "size_px": [
        46,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 44.0,
        "aspect_ratio": 1.0454545454545454,
        "ink_ratio": 0.3932806324110672,
        "edge_ratio": 0.25049407114624506,
        "table_line_ratio": 0.19120553359683795,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        46,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 43.0,
        "aspect_ratio": 1.069767441860465,
        "ink_ratio": 0.4196157735085945,
        "edge_ratio": 0.21334681496461072,
        "table_line_ratio": 0.25025278058645095,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        45,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 45.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.41975308641975306,
        "edge_ratio": 0.24246913580246915,
        "table_line_ratio": 0.20296296296296296,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        45,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 45.0,
        "height": 45.0,
        "aspect_ratio": 1.0,
        "ink_ratio": 0.33382716049382716,
        "edge_ratio": 0.17530864197530865,
        "table_line_ratio": 0.16592592592592592,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        44,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 44.0,
        "height": 45.0,
        "aspect_ratio": 0.9777777777777777,
        "ink_ratio": 0.48787878787878786,
        "edge_ratio": 0.18232323232323233,
        "table_line_ratio": 0.4348484848484849,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        43,
        44
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 44.0,
        "aspect_ratio": 0.9772727272727273,
        "ink_ratio": 0.6633192389006343,
        "edge_ratio": 0.10782241014799154,
        "table_line_ratio": 0.6738900634249472,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        46,
        45
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 45.0,
        "aspect_ratio": 1.0222222222222221,
        "ink_ratio": 0.40531400966183573,
        "edge_ratio": 0.2429951690821256,
        "table_line_ratio": 0.2144927536231884,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_002_figure_008.png",
      "page": 2,
      "index": 8,
      "size_px": [
        46,
        43
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 46.0,
        "height": 43.0,
        "aspect_ratio": 1.069767441860465,
        "ink_ratio": 0.4706774519716886,
        "edge_ratio": 0.27098078867542974,
        "table_line_ratio": 0.2295247724974722,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_004_figure_009.png",
      "page": 4,
      "index": 9,
      "size_px": [
        396,
        746
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 396.0,
        "height": 746.0,
        "aspect_ratio": 0.5308310991957105,
        "ink_ratio": 0.0883906084978471,
        "edge_ratio": 0.10006567010588459,
        "table_line_ratio": 0.027371570937254584,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_004_figure_009.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_004_figure_010.png",
      "page": 4,
      "index": 10,
      "size_px": [
        323,
        595
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 323.0,
        "height": 595.0,
        "aspect_ratio": 0.5428571428571428,
        "ink_ratio": 0.09448187943908214,
        "edge_ratio": 0.10592397949892031,
        "table_line_ratio": 0.05260035902906054,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_004_figure_010.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_005_figure_011.png",
      "page": 5,
      "index": 11,
      "size_px": [
        782,
        341
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 782.0,
        "height": 341.0,
        "aspect_ratio": 2.2932551319648096,
        "ink_ratio": 0.0620035850627386,
        "edge_ratio": 0.07822261889583068,
        "table_line_ratio": 0.02100411757205751,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_005_figure_011.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_005_figure_012.png",
      "page": 5,
      "index": 12,
      "size_px": [
        779,
        340
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 779.0,
        "height": 340.0,
        "aspect_ratio": 2.291176470588235,
        "ink_ratio": 0.05201993506003171,
        "edge_ratio": 0.07062599108963226,
        "table_line_ratio": 0.02345767575322812,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_005_figure_012.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_006_figure_013.png",
      "page": 6,
      "index": 13,
      "size_px": [
        782,
        273
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 782.0,
        "height": 273.0,
        "aspect_ratio": 2.8644688644688645,
        "ink_ratio": 0.03205830827314203,
        "edge_ratio": 0.03144468489737032,
        "table_line_ratio": 0.014380334073428702,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_006_figure_013.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_006_figure_014.png",
      "page": 6,
      "index": 14,
      "size_px": [
        37,
        36
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 37.0,
        "height": 36.0,
        "aspect_ratio": 1.0277777777777777,
        "ink_ratio": 0.18768768768768768,
        "edge_ratio": 0.14564564564564564,
        "table_line_ratio": 0.0960960960960961,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_006_figure_015.png",
      "page": 6,
      "index": 15,
      "size_px": [
        43,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 41.0,
        "aspect_ratio": 1.048780487804878,
        "ink_ratio": 0.14634146341463414,
        "edge_ratio": 0.13840045377197957,
        "table_line_ratio": 0.03460011344299489,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_008_figure_016.png",
      "page": 8,
      "index": 16,
      "size_px": [
        384,
        202
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 384.0,
        "height": 202.0,
        "aspect_ratio": 1.900990099009901,
        "ink_ratio": 0.050910169141914194,
        "edge_ratio": 0.0767842409240924,
        "table_line_ratio": 0.031108188943894388,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_008_figure_016.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_008_figure_017.png",
      "page": 8,
      "index": 17,
      "size_px": [
        385,
        201
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 385.0,
        "height": 201.0,
        "aspect_ratio": 1.9154228855721394,
        "ink_ratio": 0.049841700587969245,
        "edge_ratio": 0.06627899463720359,
        "table_line_ratio": 0.03253860567293403,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_008_figure_017.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_008_figure_018.png",
      "page": 8,
      "index": 18,
      "size_px": [
        783,
        272
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 783.0,
        "height": 272.0,
        "aspect_ratio": 2.8786764705882355,
        "ink_ratio": 0.12641330478551574,
        "edge_ratio": 0.12250206596048381,
        "table_line_ratio": 0.039826083690181056,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SIF-C12ER_B/page_008_figure_018.png"
    },
    {
      "file": "data/figures/SIF-C12ER_B/page_012_figure_019.png",
      "page": 12,
      "index": 19,
      "size_px": [
        116,
        112
      ],
      "keep_for_caption": false,
      "category": "qr_code_heuristic",
      "tags": [
        "qr_code"
      ],
      "metrics": {
        "width": 116.0,
        "height": 112.0,
        "aspect_ratio": 1.0357142857142858,
        "ink_ratio": 0.5855141625615764,
        "edge_ratio": 0.23406711822660098,
        "table_line_ratio": 0.3642241379310345,
        "is_qr_code": true,
        "qr_heuristic": true,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": null
    }
  ]
}