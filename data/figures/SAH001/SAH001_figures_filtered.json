{
  "doc_id": "SAH001",
  "source_pdf": "data/raw/SAH001.pdf",
  "num_images_total": 13,
  "num_images_kept": 7,
  "created_by": "image_filter_for_caption.py",
  "config": {
    "SMALL_ICON_MAX_DIM": 96,
    "SMALL_ICON_MAX_AREA": 9216,
    "INK_INTENSITY_THRESHOLD": 190,
    "PROCEDURE_BANNER_MIN_ASPECT": 4.0,
    "PROCEDURE_BANNER_MAX_INK": 0.2,
    "PROCEDURE_BANNER_MIN_TABLE_LINE": 0.03,
    "ENABLE_QR_DETECTION": true,
    "QR_SIZE_MIN": 80.0,
    "QR_SIZE_MAX": 300.0,
    "QR_SQUARE_ASPECT_TOL": 0.15,
    "QR_MIN_EDGE_RATIO": 0.15,
    "QR_MIN_TABLE_LINE_RATIO": 0.2,
    "QR_MIN_INK_RATIO": 0.3
  },
  "images": [
    {
      "file": "data/figures/SAH001/page_001_figure_001.png",
      "page": 1,
      "index": 1,
      "size_px": [
        324,
        657
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 324.0,
        "height": 657.0,
        "aspect_ratio": 0.4931506849315068,
        "ink_ratio": 0.9774132326136385,
        "edge_ratio": 0.17613262679219047,
        "table_line_ratio": 0.7924300505477573,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SAH001/page_001_figure_001.png"
    },
    {
      "file": "data/figures/SAH001/page_002_figure_002.png",
      "page": 2,
      "index": 2,
      "size_px": [
        43,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 41.0,
        "aspect_ratio": 1.048780487804878,
        "ink_ratio": 0.42030629608621667,
        "edge_ratio": 0.2631877481565513,
        "table_line_ratio": 0.1911514463981849,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SAH001/page_002_figure_003.png",
      "page": 2,
      "index": 3,
      "size_px": [
        43,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 41.0,
        "aspect_ratio": 1.048780487804878,
        "ink_ratio": 0.4248440158820193,
        "edge_ratio": 0.22858763471355645,
        "table_line_ratio": 0.2745320476460579,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SAH001/page_002_figure_004.png",
      "page": 2,
      "index": 4,
      "size_px": [
        43,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 41.0,
        "aspect_ratio": 1.048780487804878,
        "ink_ratio": 0.40045377197958026,
        "edge_ratio": 0.2614861032331254,
        "table_line_ratio": 0.2212138400453772,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SAH001/page_002_figure_005.png",
      "page": 2,
      "index": 5,
      "size_px": [
        43,
        41
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 41.0,
        "aspect_ratio": 1.048780487804878,
        "ink_ratio": 0.33919455473624505,
        "edge_ratio": 0.19001701644923427,
        "table_line_ratio": 0.17526942711287577,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SAH001/page_002_figure_006.png",
      "page": 2,
      "index": 6,
      "size_px": [
        40,
        38
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 40.0,
        "height": 38.0,
        "aspect_ratio": 1.0526315789473684,
        "ink_ratio": 0.7453947368421052,
        "edge_ratio": 0.11973684210526316,
        "table_line_ratio": 0.7710526315789473,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SAH001/page_002_figure_007.png",
      "page": 2,
      "index": 7,
      "size_px": [
        43,
        39
      ],
      "keep_for_caption": false,
      "category": "small_icon",
      "tags": [
        "small_icon"
      ],
      "metrics": {
        "width": 43.0,
        "height": 39.0,
        "aspect_ratio": 1.1025641025641026,
        "ink_ratio": 0.4531902206320811,
        "edge_ratio": 0.259391771019678,
        "table_line_ratio": 0.24627310673822303,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": true,
        "is_procedure_banner": false
      },
      "caption_file": null
    },
    {
      "file": "data/figures/SAH001/page_004_figure_008.png",
      "page": 4,
      "index": 8,
      "size_px": [
        378,
        1030
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 378.0,
        "height": 1030.0,
        "aspect_ratio": 0.36699029126213595,
        "ink_ratio": 0.06793291210766939,
        "edge_ratio": 0.08002260235269944,
        "table_line_ratio": 0.039407715621307855,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SAH001/page_004_figure_008.png"
    },
    {
      "file": "data/figures/SAH001/page_004_figure_009.png",
      "page": 4,
      "index": 9,
      "size_px": [
        350,
        889
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 350.0,
        "height": 889.0,
        "aspect_ratio": 0.3937007874015748,
        "ink_ratio": 0.03320263538486261,
        "edge_ratio": 0.0446408484653704,
        "table_line_ratio": 0.0208002571107183,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SAH001/page_004_figure_009.png"
    },
    {
      "file": "data/figures/SAH001/page_006_figure_010.png",
      "page": 6,
      "index": 10,
      "size_px": [
        386,
        250
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 386.0,
        "height": 250.0,
        "aspect_ratio": 1.544,
        "ink_ratio": 0.044756476683937826,
        "edge_ratio": 0.0573678756476684,
        "table_line_ratio": 0.03244559585492228,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SAH001/page_006_figure_010.png"
    },
    {
      "file": "data/figures/SAH001/page_006_figure_011.png",
      "page": 6,
      "index": 11,
      "size_px": [
        381,
        252
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 381.0,
        "height": 252.0,
        "aspect_ratio": 1.5119047619047619,
        "ink_ratio": 0.09514435695538058,
        "edge_ratio": 0.10286214223222097,
        "table_line_ratio": 0.07391784360288298,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SAH001/page_006_figure_011.png"
    },
    {
      "file": "data/figures/SAH001/page_006_figure_012.png",
      "page": 6,
      "index": 12,
      "size_px": [
        388,
        250
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 388.0,
        "height": 250.0,
        "aspect_ratio": 1.552,
        "ink_ratio": 0.10098969072164948,
        "edge_ratio": 0.0801340206185567,
        "table_line_ratio": 0.0722061855670103,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SAH001/page_006_figure_012.png"
    },
    {
      "file": "data/figures/SAH001/page_006_figure_013.png",
      "page": 6,
      "index": 13,
      "size_px": [
        385,
        249
      ],
      "keep_for_caption": true,
      "category": "photo_or_diagram",
      "tags": [],
      "metrics": {
        "width": 385.0,
        "height": 249.0,
        "aspect_ratio": 1.5461847389558232,
        "ink_ratio": 0.12816982214572575,
        "edge_ratio": 0.05631878161998644,
        "table_line_ratio": 0.11191780107442759,
        "is_qr_code": false,
        "qr_heuristic": false,
        "is_small_icon": false,
        "is_procedure_banner": false
      },
      "caption_file": "data/caption_images/SAH001/page_006_figure_013.png"
    }
  ]
}